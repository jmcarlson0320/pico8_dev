pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
 a=0
end

function _update()
 a+=0.01
end

function _draw()
 cls()
 pd_rotate(64,64,a,0.5,0.5,1.7,false,1)
end
-->8
--rotate sprite
--97 tokens with scaling and arbitrary size
function pd_rotate(x,y,rot,mx,my,w,flip,scale)
  scale=scale or 1
  w*=scale*4

  local cs, ss = cos(rot)*.125/scale,sin(rot)*.125/scale
  local sx, sy = mx+cs*-w, my+ss*-w
  local hx = flip and -w or w

  local halfw = -w
  for py=y-w, y+w do
    tline(x-hx, py, x+hx, py, sx-ss*halfw, sy+cs*halfw, cs, ss)
    halfw+=1
  end
  rect(x-hx,y-w,x+hx,y+w,5)
end
__gfx__
00000000cccc88880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000c11c82280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700c11c82280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000cccc88880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000bbbbaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700b33ba99a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000b33ba99a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
